unit Unit1;

interface

uses
  Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls, Forms,
  Dialogs, StdCtrls, TeEngine, Series, ExtCtrls, TeeProcs, Chart;

type
  TForm1 = class(TForm)
    Button1: TButton;
    Button2: TButton;
    Label1: TLabel;
    Edit1: TEdit;
    Label2: TLabel;
    Edit2: TEdit;
    Label4: TLabel;
    Label5: TLabel;
    Chart1: TChart;
    Series1: TLineSeries;
    Series2: TLineSeries;
    Image1: TImage;
    Edit4: TEdit;
    Label6: TLabel;
    procedure Button2Click(Sender: TObject);
    procedure Button1Click(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  Form1: TForm1;
  a,b,s,x,y,h,g,t,n: double;
  M2:real;

implementation

{$R *.dfm}
procedure Pogreshnost;
begin
  M2:=6/(sqr(a)*sqr(a)); //M2=sup|f''(x)|
  h:=sqrt(t*(24/(M2*(b-a))));  // задаем шаг(основание пр€моугольника).
end;

procedure TForm1.Button1Click(Sender: TObject);
begin
a:=StrToFloat(edit1.Text);
b:=StrToFloat(edit2.Text);
t:=StrToFloat(edit4.text);
Image1.Picture.LoadFromFile('C:\Users\1\Desktop\¬ычислительна€ математика\Ћабораторна€ є7\123321.bmp');
Pogreshnost;
s:=0; // присваиваем площади значение 0, чтобы впоследствии, шаг за шагом, наращивать его.
x:=h;
n:=trunc((b-a)/h);
while(s<=n*h) do
 begin
  y:=1/sqr(x); // по мере нарастани€ х, вычисл€ем значени€ у в них.
  s:=s+y*h; // с каждым шагом наращивем площадь.
  x:=x+h; // наращиваем х(движемс€ далее по циклу).
 end; // конец цикла.
Label5.Caption:=FloatToStr(s); // выводим на экран конечное значение площади s.
Pogreshnost;

{Ќачинаем построение графика функции у=1/x^2.}
x:=h; // оп€ть присваиваем х значение 0 дл€ возможности использовать цикл с учловием.
g:=0.00001; // задаем шаг построени€ точек. Ќапомню, что он должен быть много меньше шага h, иначе получитс€ не крива€, а ломана€.
while (x<=1) do
begin
 y:=1/sqr(x);
 x:=x+g;
 Series1.AddXY(x,y,' ',clRed);
end; // конец построени€ первого графика.

{Ќачинаем строить пр€моугольники, нагл€дно демонстрирующие суть метода.}
x:=h;
while (x<=1) do
begin
 Series2.AddXY(x,0,' ',clBlue);
 y:=1/sqr(x);
 Series2.AddXY(x,y,' ',clBlue);
 x:=x+h;
 Series2.AddXY(x,y,' ',clBlue);
end; // конец построени€.

end;

procedure TForm1.Button2Click(Sender: TObject);
begin
close;
end;

end.
